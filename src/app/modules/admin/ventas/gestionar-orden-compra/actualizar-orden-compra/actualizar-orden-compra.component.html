<!-- Cabecera -->
<div class="flex items-center mt-8">
  <h2 class="intro-y text-lg font-medium mr-auto">
    Actualizar Orden de Compra
  </h2>
</div>
<!-- Inputs -->
<div class="intro-y box py-10 sm:py-10 mt-5">
  <div class="px-10 sm:px-10 dark:border-darkmode-400">

    <form [formGroup]="formOrdenCompra">
      <div class="grid grid-cols-12 gap-4 gap-y-5">
        <!-- Supplier -->
        <div class="col-span-12">
          <h2 class="intro-y text-lg font-medium mr-auto">
            Proveedor
          </h2>
          <div formGroupName="supplierData">
            <div class="mt-3">
              <label class="form-label">Name</label>
              <input type="text" class="form-control" formControlName="name" readonly>
            </div>
            <div class="mt-3">
              <label class="form-label">RUC</label>
              <input type="text" class="form-control" formControlName="ruc" readonly>
            </div>
            <div class="mt-3">
              <label class="form-label">Area</label>
              <input type="text" class="form-control" formControlName="area" readonly>
            </div>
            <div class="mt-3">
              <label class="form-label">Email</label>
              <input type="text" class="form-control" formControlName="email" readonly>
            </div>


          </div>
        </div>

        <!-- Fecha LLegada -->
        <div class="intro-y col-span-6 mt-5">
          <label class="form-label">Fecha de llegada</label>
          <input formControlName="arrivalDate" type="date" class="form-control">
        </div>
        <!-- Estado -->

        <div class="intro-y col-span-6 mt-5">
          <label class="form-label">Estado</label>
          <select class="form-select sm:mr-2 dropdown-content" formControlName="purchaseOrderStatusId">
            <option *ngFor="let estado of estadosOrdenesCompra" [value]="estado.id">
              {{estado.name}}
            </option>
          </select>
        </div>

        <!-- Comentario -->
        <div class="intro-y col-span-12 mt-5">
          <label class="form-label">Comentario</label>
          <textarea formControlName="comments" type="text" class="form-control"> </textarea>
        </div>

      </div>
    </form>

    <h4 class="font-medium intro-y text-md mr-auto mt-5 intro-y">Lista Productos</h4>

    <table class="table table-report text-center">
      <thead>
        <tr>
          <th class="text-center">Producto</th>
          <th class="text-center">Precio</th>
          <th class="text-center">Cantidad</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of formOrdenCompra.value.purchaseOrderDetails" class="intro-y">
          <td class="text-center">{{product.productName}}</td>
          <td class="text-center">{{product.purchasePrice}}</td>
          <td class="text-center">{{product.quantity}}</td>
        </tr>

      </tbody>
    </table>

    <div class="grid grid-cols-12">
      <div class="intro-y col-span-4 flex items-center justify-center sm:justify-end mt-5">
        <button class="btn btn-secondary mx-2 w-24" (click)="moveToGestionarOrdenCompra()">Atr√°s</button>
      </div>
      <div class="intro-y col-span-4 flex items-center justify-center sm:justify-end mt-5">
        <button class="btn btn-primary mx-2 w-24" (click)="updateOrdenCompra()">Actualizar</button>
      </div>
    </div>



  </div>
</div>
